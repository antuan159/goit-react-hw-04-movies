(this["webpackJsonpreact-group-7"]=this["webpackJsonpreact-group-7"]||[]).push([[0],{15:function(e,t,a){e.exports={title:"MovieDetailsPage_title__3iPFR",description:"MovieDetailsPage_description__3nca0",image:"MovieDetailsPage_image__1Kxr2"}},26:function(e,t,a){e.exports={list:"Navigation_list__3QHZq"}},27:function(e,t,a){e.exports=a(50)},32:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),s=(a(32),a(5)),i=a(13),u=a(1),l=a.n(u),p=a(2),v=a(7),m=a(8),h=a(10),f=a(9),d=a(11),b={getPopularMovies:function(){var e=Object(p.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/trending/all/day?api_key=96d3e64b658c1ff1e4d321bedcaf7556",e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=96d3e64b658c1ff1e4d321bedcaf7556");case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.results);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),getDetailMovie:function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=96d3e64b658c1ff1e4d321bedcaf7556&language=ru"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),getMoviesCast:function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=96d3e64b658c1ff1e4d321bedcaf7556"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),getMoviesReviews:function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=96d3e64b658c1ff1e4d321bedcaf7556&language=en-US&page=1"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.results);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),searchMovies:function(){var e=Object(p.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/search/movie?api_key=96d3e64b658c1ff1e4d321bedcaf7556&language=en-US&query=".concat(t,"&page=1&include_adult=false"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.results);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()},y=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[]},a.fecthPopularMovies=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getPopularMovies();case 2:t=e.sent,a.setState({movies:t});case 4:case"end":return e.stop()}}),e)}))),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fecthPopularMovies();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return r.a.createElement("div",null,r.a.createElement("h1",null,"Trending today"),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(s.b,{to:"/movies/".concat(e.id)},e.title))}))))}}]),t}(n.Component),g=a(25),E=a.n(g),w=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",movies:null},a.handleChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.fetchSearchMovies(a.state.query);var t=a.props,n=t.location;t.history.replace({pathname:n.pathname,search:"?query=".concat(a.state.query)}),a.setState({query:""})},a.fetchSearchMovies=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.searchMovies(t);case 2:n=e.sent,a.setState({movies:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location;if(e.search){var t=E.a.parse(e.search);this.fetchSearchMovies(t.query)}}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.movies,n=this.props.location;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",value:t,onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Search")),a&&r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(s.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}}},e.title))}))))}}]),t}(n.Component),j="/",k="/movies",O="/movies/:moviesId",x="/movies/:moviesId/cast",M="/movies/:moviesId/reviews",_=a(26),S=a.n(_),C=function(){return r.a.createElement("ul",{className:S.a.list},r.a.createElement("li",null,r.a.createElement(s.c,{exact:!0,to:j},"Home")),r.a.createElement("li",null,r.a.createElement(s.c,{to:k},"Movies")))},D=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={cast:null},a.fecthMovieCast=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getMoviesCast(t);case 2:n=e.sent,a.setState({cast:n.cast});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,this.fecthMovieCast(t.params.moviesId);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cast;return r.a.createElement("div",null,e&&e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("h3",null,"Hero: ",e.character),r.a.createElement("p",null,"Actor: ",e.name),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:"photoActor"}))})))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={reviews:null},a.fecthMovieReviews=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getMoviesReviews(t);case 2:n=e.sent,a.setState({reviews:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,this.fecthMovieReviews(t.params.moviesId);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return r.a.createElement("div",null,e&&(0===e.length?r.a.createElement("p",null,"We don`t have any reviews for this movie"):e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("h2",null,e.author),r.a.createElement("p",null,e.content))}))))}}]),t}(n.Component),P=a(15),A=a.n(P),I=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={movie:null},a.getDetailMovie=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getDetailMovie(t);case 2:n=e.sent,a.setState({movie:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleGoBack=function(){var e=a.props,t=e.location,n=e.history;t.state?n.push({pathname:"/movies",search:t.state.from.search}):n.push("/")},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,this.getDetailMovie(t.params.moviesId);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.match,a=e.location,n=this.state.movie;return r.a.createElement("div",null,n&&r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:this.handleGoBack},"Go back"),r.a.createElement("div",{className:A.a.description},r.a.createElement("div",{className:A.a.image},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(n.backdrop_path),alt:"poster"})),r.a.createElement("div",null,r.a.createElement("p",{className:A.a.title},"".concat(n.original_title,"  (").concat(n.release_date.slice(0,4),")")),r.a.createElement("p",null,"User score: ",10*n.vote_average,"%"),r.a.createElement("p",{className:A.a.title},"Overview"),r.a.createElement("p",null,n.overview),r.a.createElement("p",{className:A.a.title},"Genres"),r.a.createElement("div",null,n.genres.map((function(e){return r.a.createElement("span",{key:e.id},e.name," ")})))))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:{pathname:"".concat(t.url,"/Cast"),state:a.state}},"Cast")),r.a.createElement("li",null,r.a.createElement(s.b,{to:{pathname:"".concat(t.url,"/Reviews"),state:a.state}},"Reviews"))),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:x,component:D}),r.a.createElement(i.b,{exact:!0,path:M,component:q})))}}]),t}(n.Component),N=function(){return r.a.createElement(s.a,null,r.a.createElement(C,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:j,component:y}),r.a.createElement(i.b,{exact:!0,path:k,component:w}),r.a.createElement(i.b,{path:O,component:I}),r.a.createElement(i.a,{to:j})))};o.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.29622ced.chunk.js.map